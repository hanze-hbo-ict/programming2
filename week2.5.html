<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Bart Barnard" /><link rel="canonical" href="https://hanze-hbo-ict.github.io/programming2/week2.5.html" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>Week 2.5: Real world Dask - Programming 2</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="css/extra.css" rel="stylesheet" />
        <link href="css/ansi-colours.css" rel="stylesheet" />
        <link href="css/jupyter-cells.css" rel="stylesheet" />
        <link href="css/pandas-dataframe.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Week 2.5: Real world Dask";
        var mkdocs_page_input_path = "week2.5.md";
        var mkdocs_page_url = "/programming2/week2.5.html";
      </script>
    
    <script src="js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="index.html" class="icon icon-home"> Programming 2
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="index.html">Programming 2</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="week1.1.html">Week 1.1: Static code analysis</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="week1.2.html">Week 1.2: Classes and instances</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="week1.3.html">Week 1.3: Multiple Class Interaction</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="week1.4.html">Week 1.4: Generators and Map-Reduce</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="week1.5.html">Week 1.5: Divide and Conquer Algorithms</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="week2.1.html">Week 2.1: Network operations</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="week2.2.html">Week 2.2: Parallellisation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="week2.3.html">Week 2.3: Dask</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="week2.4.html">Week 2.4: More on Dask</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="week2.5.html">Week 2.5: Real world Dask</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="week2.6.html">Week 2.6: SE4ML (1)</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="week2.7.html">Week 2.7: SE4ML (2)</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Programming 2</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html" class="icon icon-home" aria-label="Docs"></a> &raquo;</li>
      <li>Week 2.5: Real world Dask</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="week-25-real-world-dask">Week 2.5: Real world Dask<a class="headerlink" href="#week-25-real-world-dask" title="Permanent link">&para;</a></h1>
<p>As mentioned previously, Dask is a library for parallel computing in Python. It is based on Pandas and uses the same interface. It is especially helpful for big data collections as it is able to create parallel collections that run on top of dynamic task schedulers.</p>
<p><img alt="img" src="imgs/dask_overview.png" /></p>
<p>Make sure to go through the <a href="https://docs.dask.org/en/stable/api.html" target="_blank">documentation</a> and have this side by side when doing the exercises..</p>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>The goal of this assignment is to read in a large dataset of protein annotation information and to manipulate, summarize and analyze it using Dask Dataframes.</p>
<p>Protein annotation is a branch of bioinformatics which classifies the different parts of a protein's structure based on both sequence and functional characteristics. For instance, it recognizes structural elements like trans-membrane helices, but also particular active sites ("Serine Protease") and also signal peptides ("periplasmic membrane tag"). The holy grail of this field is to use these different annotations of parts of the protein sequence, and to combine them to predict the function of the protein as a whole, without having to carry out actual experiments in the lab.</p>
<p>The subject is the output of the InterProScan protein annotation service <a href="http://www.ebi.ac.uk/interpro/">InterproScan online</a>, <a href="https://academic.oup.com/nar/article/49/D1/D344/5958491">NAR article</a>. Briefly, InterPROscan is a meta-annotator: it runs different protein function annotators in turn on an input amino-acid sequence FASTA file and collects the output of each, labelling them with a unique and consistent identifier â€“ the "InterPRO number". This service is used to annotate all currently known prokaryotic (Bacteria, Archaea) genomes to investigate better methods of metagenomics sequence annotation.</p>
<p>An explanation of the data can be found <a href="https://interpro-documentation.readthedocs.io/en/latest/interproscan.html" target="_blank">here</a></p>
<h1 id="2-deliverables">2. Deliverables<a class="headerlink" href="#2-deliverables" title="Permanent link">&para;</a></h1>
<p>Write a script that reads in a InterPROscan output file and answers the questions below. You can test your script on the data-file that you can find at <code>/data/dataprocessing/interproscan/all_bacilli.tsv</code> file on assemblix2012 and assemblix2019. You must use the Dask Dataframe interface to read in and manipulate this file. This file contains ~4,200,000 protein annotations and is around 11GB.</p>
<ol>
<li>How many distinct protein annotations are found in the dataset? I.e. how many distinc InterPRO numbers are there?</li>
<li>How many annotations does a protein have on average?</li>
<li>What is the most common GO Term found?</li>
<li>What is the average size of an InterPRO feature found in the dataset?</li>
<li>What is the top 10 most common InterPRO features?</li>
<li>If you select InterPRO features that are almost the same size (within 90-100%) as the protein itself, what is the top10 then?</li>
<li>If you look at those features which also have textual annotation, what is the top 10 most common word found in that annotation?</li>
<li>And the top 10 least common?</li>
<li>Combining your answers for Q6 and Q7, what are the 10 most commons words found for the largest InterPRO features?</li>
<li>What is the coefficient of correlation (<span class="arithmatex">\(R^2\)</span>) between the size of the protein and the number of features found?</li>
</ol>
<p>Notes:
- InterPRO annotations are accession numbers, e.g. IPRO002093)
- If a value is missing, a <code>-</code> is displayed.
- One cell can contain multiple GO annotations divided by <code>|</code></p>
<p>NB1: Make sure you use the <code>/commons/conda</code> environment</p>
<p>NB2: Do <em>not</em> download the file on your local machine, but work on it from the server. You can configure VSCode on your machine to connect (via ssh) to assemblix2019. </p>
<p>NB3: Use only 16 threads maximum: <code>dask.dataframe.compute(num_workers=16)</code></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="week2.4.html" class="btn btn-neutral float-left" title="Week 2.4: More on Dask"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="week2.6.html" class="btn btn-neutral float-right" title="Week 2.6: SE4ML (1)">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Bart Barnard</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="week2.4.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="week2.6.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme_extra.js" defer></script>
    <script src="js/theme.js" defer></script>
      <script src="js/imgs.js" defer></script>
      <script src="js/matjax.js" defer></script>
      <script src="https://polyfill.io/v3/polyfill.min.js?features=es6" defer></script>
      <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" defer></script>
      <script src="search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
