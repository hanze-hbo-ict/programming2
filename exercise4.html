<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Bart Barnard" /><link rel="canonical" href="https://bartbarnard.nl/programming2/exercise4.html" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>Exercise 4: Test Driven Development - Programming 2</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="css/ansi-colours.css" rel="stylesheet" />
        <link href="css/jupyter-cells.css" rel="stylesheet" />
        <link href="css/pandas-dataframe.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Exercise 4: Test Driven Development";
        var mkdocs_page_input_path = "exercise4.md";
        var mkdocs_page_url = "/programming2/exercise4.html";
      </script>
    
    <script src="js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="index.html" class="icon icon-home"> Programming 2
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="index.html">Programming exercises</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="exercise1.html">Exercise 1: Static code analysis</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="exercise2.html">Exercise 2: Classes and instances</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="exercise3.html">Exercise 3: Multiple Class Interaction</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="exercise4.html">Exercise 4: Test Driven Development</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#1-basic-setup">1: basic setup</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#2-dna">2: DNA</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#3-discussion">3: Discussion</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="exercise5.html">Exercise 5: Dependency Injection</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Programming 2</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html" class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>Exercise 4: Test Driven Development</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="exercise-4-test-driven-development">Exercise 4: Test Driven Development<a class="headerlink" href="#exercise-4-test-driven-development" title="Permanent link">&para;</a></h1>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>In this small exercise, we are going to develop a specific class using the principles of test driven development (TDD). In short this means that you first write your tests and after that you write the code that makes your test pass. And this in an cyclic manner – the so-called <a href="https://www.codecademy.com/article/tdd-red-green-refactor">Red-Green-Refactor cycle</a>.</p>
<p><img alt="The RGR-cycle" src="imgs/red-green-refactor.png" /></p>
<h2 id="1-basic-setup">1: basic setup<a class="headerlink" href="#1-basic-setup" title="Permanent link">&para;</a></h2>
<p>Of course, you could populate your production code with all sorts of <code>assert</code>-statements in order to keep a check on its proper workings. However, keeping all your tests in one place has several advantages:</p>
<ul>
<li>it keeps your code nicely seperated from the tests</li>
<li>it allows you to run tests independently</li>
<li>you can make use of fixtures throughout all your tests</li>
<li>it simplyfies the running of tests</li>
</ul>
<p>In these exercises, we are going to make use of <a href="https://docs.pytest.org/en/7.1.x/">the package <code>pytest</code></a>, so we need to install that first. After that, we need to build our application structure for <code>pytest</code> to automatically find and run all the tests. We are first going to recreate the setup that was demonstrated during the lecture; after that, you will write your code in the <code>bin</code> directory and your tests in the (drum-roll) <code>tests</code>-directory.</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="n">venv</span><span class="p">)</span> <span class="err">$</span> <span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">pytest</span>
</code></pre></div>
<p>Now create the following structure:</p>
<div class="highlight"><pre><span></span><code>├── bin
│   ├── __init__.py
│   └── summing.py
└── tests
    ├── __init__.py
    ├── conftest.py
    ├── pytest.ini
    └── test_sum
        ├── __init__.py
        └── test_summing.py
</code></pre></div>
<p>Create two <em>empty</em> functions in <code>bin/summing.py</code> (just declare the function signatures and give them <code>pass</code>): <code>simple_sum</code> and <code>multiple_sum</code>. Provide the file <code>test_summing.py</code> with tests for these functions. Use the following lines of code to tests those functions:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">test_sum</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">simple_sum</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;should be 6&#39;</span>

<span class="k">def</span> <span class="nf">test_another_sum</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">multiple_sum</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span> <span class="o">==</span> <span class="mi">15</span>
</code></pre></div>
<p>If all goes well, and you run <code>python -m pytest tests</code>, you will see that the tests fail, which is quite understandable, as we have not given any implementation to the methods yet.</p>
<p>The function <code>simple_sum</code> needs to accept exactly two parameters and returns the sum of those two. The second method <code>multiple_sum</code> needs to accept any number of parameters and returns the complete sum of all those parameters. Implement these methods and make sure that the tests will succeed when you are finished.</p>
<h2 id="2-dna">2: DNA<a class="headerlink" href="#2-dna" title="Permanent link">&para;</a></h2>
<p>In this second exercise, we create a class <code>DNA</code> in a test-driven manner. That means that we first create the test-cases and after that the implementing code. </p>
<p>Out <code>DNA</code>-class will be relatively simple; it needs to be able to fulfill the following five functional requirements:</p>
<ol>
<li>
<p>When creating an object of type <code>DNA</code>, a string of nucleotides must be provided. This string should <em>only</em> contain the characters <code>A</code>, <code>C</code>, <code>T</code>, <code>G</code> and the total length should be a multiple of three.</p>
</li>
<li>
<p>When an object of <code>DNA</code> is printed, it should print out the complete string of DNA that is stored in its memory.</p>
</li>
<li>
<p>It should be possible to <em>add</em> a triplet of <code>A</code>, <code>C</code>, <code>T</code>, or <code>G</code> to the existing dna-string. </p>
</li>
<li>
<p>One can iterate over objects of the class <code>DNA</code>. Within every iteration, the <em>next triplet</em> of nucleotides should be returned, until the complete dna-string is consumed.</p>
</li>
<li>
<p>Objects of the class <code>DNA</code> should be immutable.</p>
</li>
</ol>
<p>See the code listing below to get an idea of the workings of this class</p>
<div class="highlight"><pre><span></span><code><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="kn">from</span> <span class="nn">bin.dna</span> <span class="kn">import</span> <span class="n">DNA</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">dna</span> <span class="o">=</span> <span class="n">DNA</span><span class="p">(</span><span class="s1">&#39;ACTGACTGACTG&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">dna</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">ACTGACTGACTG</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">dna</span> <span class="o">=</span> <span class="n">dna</span><span class="o">+</span><span class="s1">&#39;ACG&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="n">dna</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="n">ACTGACTGACTGACG</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">6</span><span class="p">]:</span> <span class="k">for</span> <span class="n">triplet</span> <span class="ow">in</span> <span class="n">dna</span><span class="p">:</span>
   <span class="o">...</span><span class="p">:</span>     <span class="nb">print</span> <span class="p">(</span><span class="n">triplet</span><span class="p">)</span>
   <span class="o">...</span><span class="p">:</span> 
<span class="n">ACT</span>
<span class="n">GAC</span>
<span class="n">TGA</span>
<span class="n">CTG</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">7</span><span class="p">]:</span> 
</code></pre></div>
<p>First, create tests for all of those requirements. It would be best to create so-called <em>positive tests</em> (that check whether the class works as expected with correct input), but also <em>negative tests</em> (to show that things break when provided wrong input). </p>
<p>Implements the tests in your test-class and commit your code to github when you're done.</p>
<p><img alt="The double helix of life" src="imgs/dna.png" /></p>
<p>The last step of this exercise will be given orally when everybody is done.</p>
<h2 id="3-discussion">3: Discussion<a class="headerlink" href="#3-discussion" title="Permanent link">&para;</a></h2>
<p>Think about the project that you did last semester. How would you use unit testing and TDD to test parts of your code? What critical parts do you think should be developed and tested in this manner? </p>
<p>How do you see these technologies in your current project?</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="exercise3.html" class="btn btn-neutral float-left" title="Exercise 3: Multiple Class Interaction"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="exercise5.html" class="btn btn-neutral float-right" title="Exercise 5: Dependency Injection">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Bart Barnard</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="exercise3.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="exercise5.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme_extra.js" defer></script>
    <script src="js/theme.js" defer></script>
      <script src="js/imgs.js" defer></script>
      <script src="js/matjax.js" defer></script>
      <script src="https://polyfill.io/v3/polyfill.min.js?features=es6" defer></script>
      <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" defer></script>
      <script src="search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
